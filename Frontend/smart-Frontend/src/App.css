@tailwind base;
@tailwind components;
@tailwind utilities;

.container {
  max-width: 1200px;
}

body {
  font-family: 'Segoe UI', 'Prompt', 'Arial', sans-serif;
  background-color: #f3f6fb;
}

/* Image Enhancement Styles - Ultra Sharp */
.image-enhance {
  image-rendering: -webkit-optimize-contrast;
  image-rendering: crisp-edges;
  image-rendering: high-quality;
  backface-visibility: hidden;
  -webkit-backface-visibility: hidden;
  transform: translateZ(0);
  -webkit-transform: translateZ(0);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  will-change: transform, filter;
  /* Force GPU acceleration */
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.image-enhance:hover {
  filter: contrast(1.3) brightness(1.2) saturate(1.25) drop-shadow(0 8px 16px rgba(0,0,0,0.15)) !important;
  transform: translateZ(0) scale(1.02);
}

/* Ultra high quality image rendering */
img {
  -ms-interpolation-mode: bicubic;
  image-rendering: -webkit-optimize-contrast;
  image-rendering: -moz-crisp-edges;
  image-rendering: crisp-edges;
  image-rendering: high-quality;
  image-rendering: pixelated;
  max-width: 100%;
  height: auto;
  /* Sharp rendering optimization */
  -webkit-transform: translateZ(0);
  transform: translateZ(0);
  backface-visibility: hidden;
  -webkit-backface-visibility: hidden;
}

/* Force sharp rendering for all images */
img.image-enhance {
  filter: contrast(1.2) brightness(1.1) saturate(1.2) unsharp-mask(amount=150% radius=1px threshold=0);
  -webkit-filter: contrast(1.2) brightness(1.1) saturate(1.2);
}

/* Ultra-sharp rendering for dorm detail images */
img.dorm-detail-image {
  image-rendering: -webkit-optimize-contrast !important;
  image-rendering: crisp-edges !important;
  image-rendering: high-quality !important;
  image-rendering: pixelated !important;
  /* Force maximum quality rendering */
  -webkit-font-smoothing: subpixel-antialiased !important;
  -moz-osx-font-smoothing: auto !important;
  /* Prevent any blurriness */
  filter: contrast(1.4) brightness(1.25) saturate(1.3) blur(0px) !important;
  -webkit-filter: contrast(1.4) brightness(1.25) saturate(1.3) !important;
  transform: translate3d(0,0,0) !important;
  -webkit-transform: translate3d(0,0,0) !important;
}

/* Smooth image loading with enhanced quality */
img[loading="lazy"] {
  opacity: 0;
  transition: opacity 0.6s ease-in-out;
}

img[loading="lazy"].loaded,
img[loading="eager"].loaded {
  opacity: 1;
  filter: contrast(1.25) brightness(1.15) saturate(1.2) !important;
}

/* Better image container with sharp background */
.image-container {
  background: linear-gradient(45deg, #f8f8f8 25%, transparent 25%),
              linear-gradient(-45deg, #f8f8f8 25%, transparent 25%),
              linear-gradient(45deg, transparent 75%, #f8f8f8 75%),
              linear-gradient(-45deg, transparent 75%, #f8f8f8 75%);
  background-size: 16px 16px;
  background-position: 0 0, 0 8px, 8px -8px, -8px 0px;
}

/* Optimized for all display types */
@media (-webkit-min-device-pixel-ratio: 1), (min-resolution: 96dpi) {
  .image-enhance {
    image-rendering: -webkit-optimize-contrast;
    filter: contrast(1.2) brightness(1.1) saturate(1.15);
  }
}

@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
  .image-enhance {
    image-rendering: -webkit-optimize-contrast;
    filter: contrast(1.25) brightness(1.15) saturate(1.2);
  }
}

@media (-webkit-min-device-pixel-ratio: 3), (min-resolution: 288dpi) {
  .image-enhance {
    image-rendering: -webkit-optimize-contrast;
    filter: contrast(1.3) brightness(1.2) saturate(1.25);
  }
}

/* Loading shimmer effect with enhanced quality */
.image-loading {
  background: linear-gradient(90deg, #f8f8f8 25%, #e8e8e8 50%, #f8f8f8 75%);
  background-size: 200% 100%;
  animation: shimmer 1.5s infinite;
}

@keyframes shimmer {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}

/* Modal image specific enhancements - Ultra Sharp */
.modal-image-enhance {
  filter: contrast(1.4) brightness(1.25) saturate(1.3) drop-shadow(0 0 1px rgba(0,0,0,0.5)) !important;
  image-rendering: -webkit-optimize-contrast !important;
  image-rendering: crisp-edges !important;
  transform: translateZ(0) !important;
  backface-visibility: hidden !important;
  -webkit-backface-visibility: hidden !important;
  /* Force maximum quality */
  -webkit-transform: translate3d(0,0,0) !important;
  transform: translate3d(0,0,0) !important;
  /* Enhanced sharpening */
  -webkit-filter: contrast(1.4) brightness(1.25) saturate(1.3) unsharp-mask(amount=200% radius=0.5px threshold=0) !important;
}

/* Gallery thumbnail enhancements */
.thumbnail-enhance {
  filter: contrast(1.35) brightness(1.2) saturate(1.25) !important;
  image-rendering: crisp-edges !important;
  image-rendering: -webkit-optimize-contrast !important;
  transform: translateZ(0) !important;
  backface-visibility: hidden !important;
  -webkit-backface-visibility: hidden !important;
}

/* Detailed dorm image container */
.dorm-detail-image {
  filter: contrast(1.4) brightness(1.25) saturate(1.3) !important;
  image-rendering: -webkit-optimize-contrast !important;
  image-rendering: crisp-edges !important;
  image-rendering: high-quality !important;
  transform: translate3d(0,0,0) !important;
  -webkit-transform: translate3d(0,0,0) !important;
  backface-visibility: hidden !important;
  -webkit-backface-visibility: hidden !important;
  /* Add subtle edge enhancement */
  -webkit-filter: contrast(1.4) brightness(1.25) saturate(1.3) blur(0px) !important;
}

/* Ultra sharp for retina displays */
@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
  .modal-image-enhance, .dorm-detail-image {
    filter: contrast(1.5) brightness(1.3) saturate(1.35) drop-shadow(0 0 0.5px rgba(0,0,0,0.6)) !important;
    image-rendering: -webkit-optimize-contrast !important;
    image-rendering: crisp-edges !important;
    -webkit-font-smoothing: subpixel-antialiased !important;
  }
}

@media (-webkit-min-device-pixel-ratio: 3), (min-resolution: 288dpi) {
  .modal-image-enhance, .dorm-detail-image {
    filter: contrast(1.6) brightness(1.35) saturate(1.4) drop-shadow(0 0 0.5px rgba(0,0,0,0.7)) !important;
    image-rendering: -webkit-optimize-contrast !important;
    image-rendering: crisp-edges !important;
    -webkit-font-smoothing: subpixel-antialiased !important;
  }
}

/* Specific optimization for modal containers */
.dorm-modal .image-container {
  background: #f8f9fa;
  border-radius: 8px;
  overflow: hidden;
  /* Force hardware acceleration */
  transform: translateZ(0);
  -webkit-transform: translateZ(0);
  will-change: transform;
}

/* Enhanced loading states for detail images */
.dorm-detail-image.image-loading {
  background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
  background-size: 200% 100%;
  animation: shimmer 1.2s infinite;
}

.dorm-detail-image.loaded {
  opacity: 1 !important;
  transition: opacity 0.4s ease-in-out !important;
}

/* Force crisp rendering on all browsers */
.dorm-detail-image {
  -ms-interpolation-mode: nearest-neighbor !important;
  image-rendering: -moz-crisp-edges !important;
  image-rendering: -webkit-optimize-contrast !important;
  image-rendering: optimize-contrast !important;
  image-rendering: crisp-edges !important;
  image-rendering: pixelated !important;
}