@tailwind base;
@tailwind components;
@tailwind utilities;

.container {
  max-width: 1200px;
}

body {
  font-family: 'Segoe UI', 'Prompt', 'Arial', sans-serif;
  background-color: #f3f6fb;
}

/* Image Enhancement Styles - High Quality Display */
.image-enhance {
  image-rendering: auto;
  image-rendering: high-quality;
  backface-visibility: hidden;
  -webkit-backface-visibility: hidden;
  transform: translateZ(0);
  -webkit-transform: translateZ(0);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  will-change: transform, opacity;
  /* Force GPU acceleration */
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  object-fit: cover;
  object-position: center;
}

.image-enhance:hover {
  transform: translateZ(0);
  opacity: 0.95;
  filter: brightness(1.1) contrast(1.05);
}

/* High quality image rendering */
img {
  -ms-interpolation-mode: bicubic;
  image-rendering: auto;
  image-rendering: high-quality;
  max-width: 100%;
  height: auto;
  display: block;
  /* Sharp rendering optimization */
  -webkit-transform: translateZ(0);
  transform: translateZ(0);
  backface-visibility: hidden;
  -webkit-backface-visibility: hidden;
}

/* Enhanced rendering for specific images */
img.image-enhance {
  border: 1px solid rgba(255,255,255,0.1);
  box-shadow: 0 2px 8px rgba(0,0,0,0.08);
}

/* Enhanced rendering for dorm detail images */
img.dorm-detail-image {
  image-rendering: crisp-edges !important;
  border-radius: 4px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.1);
}

/* Modal image specific enhancements - Performance Focused */
/* Modal Image Enhancement */
.modal-image-enhance {
  image-rendering: high-quality;
  image-rendering: -webkit-optimize-contrast;
  image-rendering: crisp-edges;
  backface-visibility: hidden;
  -webkit-backface-visibility: hidden;
  transform: translateZ(0);
  transition: all 0.3s ease-out;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  font-smooth: always;
  object-fit: cover;
  object-position: center;
  max-width: 100%;
  max-height: 100%;
  text-rendering: optimizeLegibility;
  filter: contrast(1.3) brightness(1.15) saturate(1.2) sharpen(1.2);
}

.modal-image-enhance:hover {
  transform: translateZ(0) scale(1.02);
  opacity: 0.98;
  filter: contrast(1.35) brightness(1.18) saturate(1.25) sharpen(1.3);
}

/* Gallery thumbnail enhancements */
/* Thumbnail Enhancement */
.thumbnail-enhance {
  image-rendering: auto;
  image-rendering: high-quality;
  transition: all 0.2s ease;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  transform: translateZ(0);
  backface-visibility: hidden;
  object-fit: cover;
  object-position: center;
}

.thumbnail-enhance:hover {
  transform: translateZ(0) scale(1.1);
  opacity: 0.9;
}

/* Prevent image overflow in grid cards */
.image-container {
  position: relative;
  overflow: hidden;
}

.image-container img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  object-position: center;
  display: block;
}

/* Card hover effects without image scaling */
.group:hover .image-enhance {
  filter: brightness(1.1) contrast(1.05);
  opacity: 0.95;
}

/* Detailed dorm image container */
.dorm-detail-image {
  image-rendering: crisp-edges !important;
  image-rendering: high-quality !important;
  transform: translate3d(0,0,0) !important;
  -webkit-transform: translate3d(0,0,0) !important;
  backface-visibility: hidden !important;
  -webkit-backface-visibility: hidden !important;
  /* Add subtle edge enhancement through border */
  border: 1px solid rgba(255,255,255,0.15) !important;
}

/* Smooth image loading with enhanced quality */
img[loading="lazy"] {
  opacity: 0;
  transition: opacity 0.6s ease-in-out;
}

img[loading="lazy"].loaded,
img[loading="eager"].loaded {
  opacity: 1;
  filter: contrast(1.25) brightness(1.15) saturate(1.2) !important;
}

/* Better image container with sharp background */
.image-container {
  background: linear-gradient(45deg, #f8f8f8 25%, transparent 25%),
              linear-gradient(-45deg, #f8f8f8 25%, transparent 25%),
              linear-gradient(45deg, transparent 75%, #f8f8f8 75%),
              linear-gradient(-45deg, transparent 75%, #f8f8f8 75%);
  background-size: 16px 16px;
  background-position: 0 0, 0 8px, 8px -8px, -8px 0px;
}

/* Optimized for all display types */
@media (-webkit-min-device-pixel-ratio: 1), (min-resolution: 96dpi) {
  .image-enhance {
    image-rendering: -webkit-optimize-contrast;
    filter: contrast(1.2) brightness(1.1) saturate(1.15);
  }
}

@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
  .image-enhance {
    image-rendering: -webkit-optimize-contrast;
    filter: contrast(1.25) brightness(1.15) saturate(1.2);
  }
}

@media (-webkit-min-device-pixel-ratio: 3), (min-resolution: 288dpi) {
  .image-enhance {
    image-rendering: -webkit-optimize-contrast;
    filter: contrast(1.3) brightness(1.2) saturate(1.25);
  }
}

/* Loading shimmer effect with enhanced quality */
.image-loading {
  background: linear-gradient(90deg, #f8f8f8 25%, #e8e8e8 50%, #f8f8f8 75%);
  background-size: 200% 100%;
  animation: shimmer 1.5s infinite;
}

@keyframes shimmer {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}

/* Modal image specific enhancements - Ultra Sharp */
.modal-image-enhance {
  filter: contrast(1.4) brightness(1.25) saturate(1.3) drop-shadow(0 0 1px rgba(0,0,0,0.5)) !important;
  image-rendering: -webkit-optimize-contrast !important;
  image-rendering: crisp-edges !important;
  transform: translateZ(0) !important;
  backface-visibility: hidden !important;
  -webkit-backface-visibility: hidden !important;
  /* Force maximum quality */
  -webkit-transform: translate3d(0,0,0) !important;
  transform: translate3d(0,0,0) !important;
  /* Enhanced sharpening */
  -webkit-filter: contrast(1.4) brightness(1.25) saturate(1.3) unsharp-mask(amount=200% radius=0.5px threshold=0) !important;
}

/* Gallery thumbnail enhancements */
.thumbnail-enhance {
  filter: contrast(1.35) brightness(1.2) saturate(1.25) !important;
  image-rendering: crisp-edges !important;
  image-rendering: -webkit-optimize-contrast !important;
  transform: translateZ(0) !important;
  backface-visibility: hidden !important;
  -webkit-backface-visibility: hidden !important;
}

/* Detailed dorm image container */
.dorm-detail-image {
  filter: contrast(1.4) brightness(1.25) saturate(1.3) !important;
  image-rendering: -webkit-optimize-contrast !important;
  image-rendering: crisp-edges !important;
  image-rendering: high-quality !important;
  transform: translate3d(0,0,0) !important;
  -webkit-transform: translate3d(0,0,0) !important;
  backface-visibility: hidden !important;
  -webkit-backface-visibility: hidden !important;
  /* Add subtle edge enhancement */
  -webkit-filter: contrast(1.4) brightness(1.25) saturate(1.3) blur(0px) !important;
}

/* Enhanced rendering for high DPI displays */
@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
  .modal-image-enhance, .dorm-detail-image {
    image-rendering: -webkit-optimize-contrast !important;
    image-rendering: crisp-edges !important;
    -webkit-font-smoothing: subpixel-antialiased !important;
    transform: scale(1.005) translateZ(0) !important;
    box-shadow: 0 8px 25px rgba(0,0,0,0.2), inset 0 0 0 1px rgba(255,255,255,0.25) !important;
  }
}

@media (-webkit-min-device-pixel-ratio: 3), (min-resolution: 288dpi) {
  .modal-image-enhance, .dorm-detail-image {
    image-rendering: -webkit-optimize-contrast !important;
    image-rendering: crisp-edges !important;
    -webkit-font-smoothing: subpixel-antialiased !important;
    transform: scale(1.01) translateZ(0) !important;
    box-shadow: 0 10px 30px rgba(0,0,0,0.25), inset 0 0 0 1px rgba(255,255,255,0.3) !important;
  }
}

/* Specific optimization for modal containers */
.dorm-modal .image-container {
  background: #f8f9fa;
  border-radius: 8px;
  overflow: hidden;
  /* Force hardware acceleration */
  transform: translateZ(0);
  -webkit-transform: translateZ(0);
  will-change: transform;
}

/* Enhanced loading states for detail images */
.dorm-detail-image.image-loading {
  background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
  background-size: 200% 100%;
  animation: shimmer 1.2s infinite;
}

.dorm-detail-image.loaded {
  opacity: 1 !important;
  transition: opacity 0.4s ease-in-out !important;
}

/* Force crisp rendering on all browsers */
.dorm-detail-image {
  -ms-interpolation-mode: nearest-neighbor !important;
  image-rendering: -moz-crisp-edges !important;
  image-rendering: -webkit-optimize-contrast !important;
  image-rendering: optimize-contrast !important;
  image-rendering: crisp-edges !important;
  image-rendering: pixelated !important;
}