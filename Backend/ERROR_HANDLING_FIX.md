# ЁЯФз р╣Бр╕Бр╣Йр╣Др╕В Error Handling р╕Вр╕нр╕З Chatbot

## ЁЯРЫ р╕Ыр╕▒р╕Нр╕лр╕▓р╣Ар╕Фр╕┤р╕б

р╣Ар╕бр╕╖р╣Ир╕н Gemini API р╣Ар╕Бр╕┤р╕Ф error р╣Бр╕Кр╕Чр╕Ър╕нр╕Хр╕Ир╕░р╣Бр╕кр╕Фр╕Зр╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╕зр╣Ир╕▓:
> "ЁЯдЦ р╕Вр╕нр╕нр╕ар╕▒р╕вр╕Др╣Ир╕░ р╕гр╕░р╕Ър╕Ъ AI р╕бр╕╡р╕Ыр╕▒р╕Нр╕лр╕▓р╕Кр╕▒р╣Ир╕зр╕Др╕гр╕▓р╕з"

р╣Бр╕бр╣Йр╕зр╣Ир╕▓ error р╕Ир╕░р╣Ар╕Ыр╣Зр╕Щр╣Ар╕гр╕╖р╣Ир╕нр╕Зр╣Ар╕ер╣Зр╕Бр╕Щр╣Йр╕нр╕в р╕лр╕гр╕╖р╕нр╣Бр╕Бр╣Йр╣Др╕Вр╣Др╕Фр╣Йр╕Зр╣Ир╕▓р╕в

---

## тЬЕ р╕Бр╕▓р╕гр╣Бр╕Бр╣Йр╣Др╕В

### **1. Backend (index.js)**

#### **р╕Бр╣Ир╕нр╕Щ:**
```javascript
} catch (error) {
  console.error('тЭМ Gemini API Error:', error.message);
  
  if (error.message?.includes('API key')) {
    return 'тЪая╕П р╕Вр╕нр╕нр╕ар╕▒р╕вр╕Др╣Ир╕░ р╕бр╕╡р╕Ыр╕▒р╕Нр╕лр╕▓р╕Бр╕▓р╕гр╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓ API';
  } else if (error.message?.includes('quota')) {
    return 'тЪая╕П р╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ API р╣Ар╕Бр╕┤р╕Щр╣Вр╕Др╕зр╕Хр╣Йр╕▓р╣Бр╕ер╣Йр╕з';
  }
  
  return null; // тЭМ р╕кр╣Ир╕З null р╕Бр╕ер╕▒р╕Ъ тЖТ Frontend р╣Бр╕кр╕Фр╕З fallback
}
```

#### **р╕лр╕ер╕▒р╕З:**
```javascript
} catch (error) {
  console.error('тЭМ Gemini API Error:', error.message);
  console.error('Full error:', error);
  
  // тЬЕ р╣Бр╕вр╕Бр╕Ыр╕гр╕░р╣Ар╕ар╕Ч error р╣Бр╕ер╕░р╣Гр╕лр╣Й message р╕Чр╕╡р╣Ир╕Кр╕▒р╕Фр╣Ар╕Ир╕Щ
  
  // 1. API Key Error
  if (error.message?.includes('API key') || error.message?.includes('API_KEY')) {
    return 'тЪая╕П р╕Вр╕нр╕нр╕ар╕▒р╕вр╕Др╣Ир╕░ р╕бр╕╡р╕Ыр╕▒р╕Нр╕лр╕▓р╕Бр╕▓р╕гр╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓ API Key\n\nЁЯТб р╕Бр╕гр╕╕р╕Ур╕▓р╕Хр╕┤р╕Фр╕Хр╣Ир╕нр╕Ьр╕╣р╣Йр╕Фр╕╣р╣Бр╕ер╕гр╕░р╕Ър╕Ър╣Ар╕Юр╕╖р╣Ир╕нр╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Бр╕▓р╕гр╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓р╕Др╣Ир╕░';
  } 
  
  // 2. Quota Error
  if (error.message?.includes('quota') || error.message?.includes('QUOTA') || error.message?.includes('429')) {
    return 'тЪая╕П р╕Вр╕нр╕нр╕ар╕▒р╕вр╕Др╣Ир╕░ р╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ API р╣Ар╕Бр╕┤р╕Щр╣Вр╕Др╕зр╕Хр╣Йр╕▓р╣Бр╕ер╣Йр╕з\n\nЁЯХТ р╕Бр╕гр╕╕р╕Ур╕▓р╕ер╕нр╕Зр╣Гр╕лр╕бр╣Ир╣Гр╕Щр╕нр╕╡р╕Б 1-2 р╕Щр╕▓р╕Чр╕╡р╕Др╣Ир╕░\n\nЁЯТб р╕лр╕гр╕╖р╕нр╕ер╕нр╕Зр╕Цр╕▓р╕бр╕Др╕│р╕Цр╕▓р╕бр╕нр╕╖р╣Ир╕Щр╕Фр╕╣р╕Бр╣Ир╕нр╕Щр╕Щр╕░р╕Др╕░';
  }
  
  // 3. Safety/Content Block Error
  if (error.message?.includes('SAFETY') || error.message?.includes('blocked')) {
    return 'тЪая╕П р╕Вр╕нр╕нр╕ар╕▒р╕вр╕Др╣Ир╕░ р╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╕Цр╕╣р╕Бр╕Ър╕ер╣Зр╕нр╕Др╕Фр╣Йр╕зр╕вр╣Ар╕лр╕Хр╕╕р╕Ьр╕ер╕Фр╣Йр╕▓р╕Щр╕Др╕зр╕▓р╕бр╕Ыр╕ер╕нр╕Фр╕ар╕▒р╕в\n\nЁЯТб р╕ер╕нр╕Зр╕Цр╕▓р╕бр╕Др╕│р╕Цр╕▓р╕бр╣Гр╕лр╕бр╣Ир╣Гр╕Щр╕гр╕╣р╕Ыр╣Бр╕Ър╕Ър╕нр╕╖р╣Ир╕Щр╕Фр╕╣р╕Щр╕░р╕Др╕░ р╣Ар╕Кр╣Ир╕Щ:\nтАв "р╣Бр╕Щр╕░р╕Щр╕│р╕лр╕нр╕Юр╕▒р╕Бр╕гр╕▓р╕Др╕▓р╕Цр╕╣р╕Бр╕лр╕Щр╣Ир╕нр╕в"\nтАв "р╕лр╕нр╕Юр╕▒р╕Бр╣Гр╕Бр╕ер╣Йр╕бр╕лр╕▓р╕ер╕▒р╕вр╕бр╕╡р╕нр╕░р╣Др╕гр╕Ър╣Йр╕▓р╕З"';
  }
  
  // 4. Timeout Error
  if (error.message?.includes('timeout') || error.message?.includes('TIMEOUT')) {
    return 'тП░ р╕Вр╕нр╕нр╕ар╕▒р╕вр╕Др╣Ир╕░ р╕Бр╕▓р╕гр╕Хр╕нр╕Ър╕кр╕Щр╕нр╕Зр╣Гр╕Кр╣Йр╣Ар╕зр╕ер╕▓р╕Щр╕▓р╕Щр╣Ар╕Бр╕┤р╕Щр╣Др╕Ы\n\nЁЯТб р╕ер╕нр╕Зр╕Цр╕▓р╕бр╕Др╕│р╕Цр╕▓р╕бр╕кр╕▒р╣Йр╕Щр╣Ж р╕лр╕гр╕╖р╕нр╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╕Др╕│р╕Цр╕▓р╕бр╣Гр╕лр╕бр╣Ир╕Фр╕╣р╕Щр╕░р╕Др╕░';
  }
  
  // 5. General Error - р╣Гр╕лр╣Йр╕Др╕│р╣Бр╕Щр╕░р╕Щр╕│р╕Чр╕╡р╣Ир╕бр╕╡р╕Ыр╕гр╕░р╣Вр╕вр╕Кр╕Щр╣М
  return \`ЁЯШФ р╕Вр╕нр╕нр╕ар╕▒р╕вр╕Др╣Ир╕░ р╕Щр╣Йр╕нр╕Зр╕Фр╕нр╕гр╣Мр╕бр╕бр╕╡р╕Ыр╕▒р╕Нр╕лр╕▓р╣Ар╕ер╣Зр╕Бр╕Щр╣Йр╕нр╕в

ЁЯТб **р╕ер╕нр╕Зр╕зр╕┤р╕Шр╕╡р╕Щр╕╡р╣Йр╕Фр╕╣р╕Щр╕░р╕Др╕░:**
тАв р╕гр╕╡р╣Ар╕Яр╕гр╕Кр╕лр╕Щр╣Йр╕▓р╣Ар╕зр╣Зр╕Ър╣Бр╕ер╣Йр╕зр╕ер╕нр╕Зр╣Гр╕лр╕бр╣И
тАв р╕Цр╕▓р╕бр╕Др╕│р╕Цр╕▓р╕бр╣Бр╕Ър╕Ър╕Зр╣Ир╕▓р╕вр╣Ж р╣Ар╕Кр╣Ир╕Щ "р╕лр╕нр╕Юр╕▒р╕Бр╕гр╕▓р╕Др╕▓р╕Цр╕╣р╕Б"
тАв р╕Фр╕╣р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕лр╕нр╕Юр╕▒р╕Бр╣Гр╕Щр╕лр╕Щр╣Йр╕▓р╕лр╕ер╕▒р╕Б
тАв р╣Гр╕Кр╣Йр╕Яр╕┤р╕ер╣Ар╕Хр╕нр╕гр╣Мр╕Др╣Йр╕Щр╕лр╕▓р╕лр╕нр╕Юр╕▒р╕Б

ЁЯФз р╕Цр╣Йр╕▓р╕вр╕▒р╕Зр╕бр╕╡р╕Ыр╕▒р╕Нр╕лр╕▓ р╕Бр╕гр╕╕р╕Ур╕▓р╕Хр╕┤р╕Фр╕Хр╣Ир╕нр╕Чр╕╡р╕бр╕Зр╕▓р╕Щр╕Др╣Ир╕░\`;
}
```

**р╕Ьр╕ер╕ер╕▒р╕Юр╕Шр╣М:**
- тЬЕ р╣Др╕бр╣Ир╕кр╣Ир╕З `null` р╕Бр╕ер╕▒р╕Ър╕нр╕╡р╕Бр╕Хр╣Ир╕нр╣Др╕Ы
- тЬЕ р╣Гр╕лр╣Й error message р╕Чр╕╡р╣Ир╕Кр╕▒р╕Фр╣Ар╕Ир╕Щр╣Бр╕ер╕░р╣Ар╕Ыр╣Зр╕Щр╕бр╕┤р╕Хр╕г
- тЬЕ р╣Бр╕Щр╕░р╕Щр╕│р╕зр╕┤р╕Шр╕╡р╣Бр╕Бр╣Йр╣Др╕Вр╕кр╕│р╕лр╕гр╕▒р╕Ър╣Бр╕Хр╣Ир╕ер╕░р╕Ыр╕гр╕░р╣Ар╕ар╕Ч error
- тЬЕ Console log р╣Бр╕кр╕Фр╕З error р╣Бр╕Ър╕Ър╣Ар╕Хр╣Зр╕бр╣Ар╕Юр╕╖р╣Ир╕н debug

---

### **2. Frontend (ChatbotWidget.jsx)**

#### **р╕Бр╣Ир╕нр╕Щ:**
```javascript
const botMessage = data.message || 'р╕Вр╕нр╕нр╕ар╕▒р╕вр╕Др╣Ир╕░ р╣Др╕бр╣Ир╕кр╕▓р╕бр╕▓р╕гр╕Цр╕Ыр╕гр╕░р╕бр╕зр╕ер╕Ьр╕ер╕Др╕│р╕Хр╕нр╕Ър╣Др╕Фр╣Й';

setMessages(msgs => [...msgs, { 
  sender: 'bot', 
  text: botMessage,
  timestamp: new Date()
}]);
```

#### **р╕лр╕ер╕▒р╕З:**
```javascript
// р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓ Backend р╕кр╣Ир╕Зр╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╕Бр╕ер╕▒р╕Ър╕бр╕▓р╕лр╕гр╕╖р╕нр╣Др╕бр╣И
const botMessage = data.message;

if (!botMessage || botMessage.trim() === '') {
  throw new Error('Empty response from server');
}

setMessages(msgs => [...msgs, { 
  sender: 'bot', 
  text: botMessage,
  timestamp: new Date(),
  // тЬЕ р╕Цр╣Йр╕▓р╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╣Ар╕гр╕┤р╣Ир╕бр╕Фр╣Йр╕зр╕в тЪая╕П р╕лр╕гр╕╖р╕н ЁЯШФ р╕Цр╕╖р╕нр╕зр╣Ир╕▓р╣Ар╕Ыр╣Зр╕Щ error message
  isError: botMessage.startsWith('тЪая╕П') || botMessage.startsWith('ЁЯШФ')
}]);
```

**р╕Ьр╕ер╕ер╕▒р╕Юр╕Шр╣М:**
- тЬЕ р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ empty response
- тЬЕ р╣Бр╕кр╕Фр╕З styling р╕Юр╕┤р╣Ар╕ир╕йр╕кр╕│р╕лр╕гр╕▒р╕Ъ error message
- тЬЕ Throw error р╕Цр╣Йр╕▓р╣Др╕бр╣Ир╣Др╕Фр╣Йр╕гр╕▒р╕Ър╕Др╕│р╕Хр╕нр╕Ъ

---

#### **р╕Ыр╕гр╕▒р╕Ър╕Ыр╕гр╕╕р╕З Error Handling:**

```javascript
} catch (error) {
  console.error('Chatbot API error:', error);
  
  let fallbackMessage = '';
  
  // 1. Network Error
  if (error.message.includes('Failed to fetch') || error.message.includes('NetworkError')) {
    fallbackMessage = 'ЁЯФМ р╕Вр╕нр╕нр╕ар╕▒р╕вр╕Др╣Ир╕░ р╣Др╕бр╣Ир╕кр╕▓р╕бр╕▓р╕гр╕Цр╣Ар╕Кр╕╖р╣Ир╕нр╕бр╕Хр╣Ир╕нр╕Бр╕▒р╕Ър╣Ар╕Лр╕┤р╕гр╣Мр╕Яр╣Ар╕зр╕нр╕гр╣Мр╣Др╕Фр╣Й\n\nЁЯТб р╕Бр╕гр╕╕р╕Ур╕▓р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ:\nтАв р╕Бр╕▓р╕гр╣Ар╕Кр╕╖р╣Ир╕нр╕бр╕Хр╣Ир╕нр╕нр╕┤р╕Щр╣Ар╕Чр╕нр╕гр╣Мр╣Ар╕Щр╣Зр╕Х\nтАв Backend server р╕Чр╕│р╕Зр╕▓р╕Щр╕нр╕вр╕╣р╣Ир╕лр╕гр╕╖р╕нр╣Др╕бр╣И (http://localhost:3001)\nтАв Firewall р╕лр╕гр╕╖р╕н Antivirus р╕Ър╕ер╣Зр╕нр╕Бр╕лр╕гр╕╖р╕нр╣Др╕бр╣И\n\nЁЯФД р╕ер╕нр╕Зр╕гр╕╡р╣Ар╕Яр╕гр╕Кр╕лр╕Щр╣Йр╕▓р╣Ар╕зр╣Зр╕Ър╣Бр╕ер╕░р╕Чр╕Фр╕кр╕нр╕Ър╕нр╕╡р╕Бр╕Др╕гр╕▒р╣Йр╕Зр╕Др╣Ир╕░';
  } 
  
  // 2. Server Error (500)
  else if (error.message.includes('500')) {
    fallbackMessage = 'тЪЩя╕П р╕Вр╕нр╕нр╕ар╕▒р╕вр╕Др╣Ир╕░ р╣Ар╕Лр╕┤р╕гр╣Мр╕Яр╣Ар╕зр╕нр╕гр╣Мр╕Бр╕│р╕ер╕▒р╕Зр╕бр╕╡р╕Ыр╕▒р╕Нр╕лр╕▓\n\nЁЯФз р╕Чр╕╡р╕бр╕Зр╕▓р╕Щр╕Бр╕│р╕ер╕▒р╕Зр╣Бр╕Бр╣Йр╣Др╕Вр╕Ыр╕▒р╕Нр╕лр╕▓\nтП░ р╕Бр╕гр╕╕р╕Ур╕▓р╕ер╕нр╕Зр╣Гр╕лр╕бр╣Ир╣Гр╕Щр╕нр╕╡р╕Бр╕кр╕▒р╕Бр╕Др╕гр╕╣р╣Ир╕Др╣Ир╕░';
  } 
  
  // 3. Timeout Error
  else if (error.message.includes('timeout')) {
    fallbackMessage = 'тП░ р╕Вр╕нр╕нр╕ар╕▒р╕вр╕Др╣Ир╕░ р╕Бр╕▓р╕гр╕Хр╕нр╕Ър╕кр╕Щр╕нр╕Зр╣Гр╕Кр╣Йр╣Ар╕зр╕ер╕▓р╕Щр╕▓р╕Щр╣Ар╕Бр╕┤р╕Щр╣Др╕Ы\n\nЁЯТб р╕ер╕нр╕Зр╕зр╕┤р╕Шр╕╡р╕Щр╕╡р╣Й:\nтАв р╕Цр╕▓р╕бр╕Др╕│р╕Цр╕▓р╕бр╕кр╕▒р╣Йр╕Щр╣Ж\nтАв р╕гр╕╡р╣Ар╕Яр╕гр╕Кр╕лр╕Щр╣Йр╕▓р╣Ар╕зр╣Зр╕Ъ\nтАв р╕ер╕нр╕Зр╣Гр╕лр╕бр╣Ир╕нр╕╡р╕Бр╕Др╕гр╕▒р╣Йр╕З';
  } 
  
  // 4. Empty Response
  else if (error.message.includes('Empty response')) {
    fallbackMessage = 'ЁЯУн р╕Вр╕нр╕нр╕ар╕▒р╕вр╕Др╣Ир╕░ р╣Др╕бр╣Ир╣Др╕Фр╣Йр╕гр╕▒р╕Ър╕Др╕│р╕Хр╕нр╕Ър╕Ир╕▓р╕Бр╣Ар╕Лр╕┤р╕гр╣Мр╕Яр╣Ар╕зр╕нр╕гр╣М\n\nЁЯТб р╕ер╕нр╕Зр╕зр╕┤р╕Шр╕╡р╕Щр╕╡р╣Й:\nтАв р╕гр╕╡р╣Ар╕Яр╕гр╕Кр╕лр╕Щр╣Йр╕▓р╣Ар╕зр╣Зр╕Ъ\nтАв р╕Цр╕▓р╕бр╕Др╕│р╕Цр╕▓р╕бр╣Гр╕лр╕бр╣И\nтАв р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ Backend logs';
  } 
  
  // 5. Other Errors
  else {
    fallbackMessage = 'ЁЯШФ р╕Вр╕нр╕нр╕ар╕▒р╕вр╕Др╣Ир╕░ р╣Ар╕Бр╕┤р╕Фр╕Вр╣Йр╕нр╕Ьр╕┤р╕Фр╕Юр╕ер╕▓р╕Фр╕Чр╕╡р╣Ир╣Др╕бр╣Ир╕Др╕▓р╕Фр╕Др╕┤р╕Ф\n\nЁЯТб р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Хр╕нр╕Щр╕Щр╕╡р╣Й р╕Др╕╕р╕Ур╕кр╕▓р╕бр╕▓р╕гр╕Ц:\nтАв р╕гр╕╡р╣Ар╕Яр╕гр╕Кр╕лр╕Щр╣Йр╕▓р╣Ар╕зр╣Зр╕Ър╣Бр╕ер╕░р╕ер╕нр╕Зр╣Гр╕лр╕бр╣И\nтАв р╕Фр╕╣р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕лр╕нр╕Юр╕▒р╕Бр╣Гр╕Щр╕лр╕Щр╣Йр╕▓р╕лр╕ер╕▒р╕Б\nтАв р╣Гр╕Кр╣Йр╕Яр╕┤р╕ер╣Ар╕Хр╕нр╕гр╣Мр╕Др╣Йр╕Щр╕лр╕▓р╕лр╕нр╕Юр╕▒р╕Б\nтАв р╕Хр╕┤р╕Фр╕Хр╣Ир╕нр╕Чр╕╡р╕бр╕Зр╕▓р╕Щр╣Вр╕Фр╕вр╕Хр╕гр╕З\n\nЁЯФН Error: ' + error.message;
  }
  
  setMessages(msgs => [...msgs, { 
    sender: 'bot', 
    text: fallbackMessage,
    timestamp: new Date(),
    isError: true
  }]);
}
```

---

## ЁЯУК р╕Ыр╕гр╕░р╣Ар╕ар╕Ч Error р╕Чр╕╡р╣Ир╕Ир╕▒р╕Фр╕Бр╕▓р╕г

| Error Type | Backend Message | Frontend Handling |
|-----------|----------------|-------------------|
| **API Key Error** | тЪая╕П р╕Ыр╕▒р╕Нр╕лр╕▓р╕Бр╕▓р╕гр╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓ API Key | р╣Бр╕кр╕Фр╕Зр╕Хр╕▓р╕бр╕Чр╕╡р╣И Backend р╕кр╣Ир╕Зр╕бр╕▓ |
| **Quota Exceeded** | тЪая╕П р╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ API р╣Ар╕Бр╕┤р╕Щр╣Вр╕Др╕зр╕Хр╣Йр╕▓ | р╣Бр╕кр╕Фр╕Зр╕Хр╕▓р╕бр╕Чр╕╡р╣И Backend р╕кр╣Ир╕Зр╕бр╕▓ |
| **Content Blocked** | тЪая╕П р╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╕Цр╕╣р╕Бр╕Ър╕ер╣Зр╕нр╕Д | р╣Бр╕кр╕Фр╕Зр╕Хр╕▓р╕бр╕Чр╕╡р╣И Backend р╕кр╣Ир╕Зр╕бр╕▓ |
| **Timeout** | тП░ р╣Гр╕Кр╣Йр╣Ар╕зр╕ер╕▓р╕Щр╕▓р╕Щр╣Ар╕Бр╕┤р╕Щр╣Др╕Ы | р╣Бр╕кр╕Фр╕Зр╕Хр╕▓р╕бр╕Чр╕╡р╣И Backend р╕кр╣Ир╕Зр╕бр╕▓ |
| **General Error** | ЁЯШФ р╕бр╕╡р╕Ыр╕▒р╕Нр╕лр╕▓р╣Ар╕ер╣Зр╕Бр╕Щр╣Йр╕нр╕в | р╣Бр╕кр╕Фр╕Зр╕Хр╕▓р╕бр╕Чр╕╡р╣И Backend р╕кр╣Ир╕Зр╕бр╕▓ |
| **Network Error** | - | ЁЯФМ р╣Др╕бр╣Ир╕кр╕▓р╕бр╕▓р╕гр╕Цр╣Ар╕Кр╕╖р╣Ир╕нр╕бр╕Хр╣Ир╕н |
| **Server Error 500** | - | тЪЩя╕П р╣Ар╕Лр╕┤р╕гр╣Мр╕Яр╣Ар╕зр╕нр╕гр╣Мр╕бр╕╡р╕Ыр╕▒р╕Нр╕лр╕▓ |
| **Empty Response** | - | ЁЯУн р╣Др╕бр╣Ир╣Др╕Фр╣Йр╕гр╕▒р╕Ър╕Др╕│р╕Хр╕нр╕Ъ |

---

## ЁЯОп р╕Ьр╕ер╕ер╕▒р╕Юр╕Шр╣М

### **р╕Бр╣Ир╕нр╕Щ:**
- тЭМ р╣Бр╕кр╕Фр╕Зр╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╕Чр╕▒р╣Ир╕зр╣Др╕Ыр╕зр╣Ир╕▓ "р╕гр╕░р╕Ър╕Ъ AI р╕бр╕╡р╕Ыр╕▒р╕Нр╕лр╕▓"
- тЭМ р╕Ьр╕╣р╣Йр╣Гр╕Кр╣Йр╣Др╕бр╣Ир╕гр╕╣р╣Йр╕зр╣Ир╕▓р╕Хр╣Йр╕нр╕Зр╕Чр╕│р╕нр╕вр╣Ир╕▓р╕Зр╣Др╕г
- тЭМ р╣Др╕бр╣Ир╕бр╕╡р╕Др╕│р╣Бр╕Щр╕░р╕Щр╕│р╣Бр╕Бр╣Йр╣Др╕В

### **р╕лр╕ер╕▒р╕З:**
- тЬЕ р╣Бр╕кр╕Фр╕З error message р╕Чр╕╡р╣Ир╕Кр╕▒р╕Фр╣Ар╕Ир╕Щ
- тЬЕ р╕Ър╕нр╕Бр╕кр╕▓р╣Ар╕лр╕Хр╕╕р╕Вр╕нр╕Зр╕Ыр╕▒р╕Нр╕лр╕▓
- тЬЕ р╣Бр╕Щр╕░р╕Щр╕│р╕зр╕┤р╕Шр╕╡р╣Бр╕Бр╣Йр╣Др╕Вр╣Ар╕Йр╕Юр╕▓р╕░р╣Бр╕Хр╣Ир╕ер╕░р╕Бр╕гр╕Ур╕╡
- тЬЕ р╣Гр╕лр╣Йр╕Чр╕▓р╕Зр╣Ар╕ер╕╖р╕нр╕Бр╕нр╕╖р╣Ир╕Щр╣Ж
- тЬЕ Console log р╣Бр╕кр╕Фр╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕е debug

---

## ЁЯзк р╕Чр╕Фр╕кр╕нр╕Ъ

### **1. р╕Чр╕Фр╕кр╕нр╕Ъ API Key Error:**
```bash
# р╣Бр╕Бр╣Йр╣Др╕В API Key р╣Гр╕лр╣Йр╕Ьр╕┤р╕Ф
const genAI = new GoogleGenerativeAI('INVALID_KEY');
```
**р╕Ьр╕ер╕ер╕▒р╕Юр╕Шр╣М:** р╣Бр╕кр╕Фр╕Зр╕Вр╣Йр╕нр╕Др╕зр╕▓р╕б "тЪая╕П р╕бр╕╡р╕Ыр╕▒р╕Нр╕лр╕▓р╕Бр╕▓р╕гр╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓ API Key"

### **2. р╕Чр╕Фр╕кр╕нр╕Ъ Network Error:**
```bash
# р╕Ыр╕┤р╕Ф Backend server
# р╕ер╕нр╕Зр╕кр╣Ир╕Зр╕Вр╣Йр╕нр╕Др╕зр╕▓р╕б
```
**р╕Ьр╕ер╕ер╕▒р╕Юр╕Шр╣М:** р╣Бр╕кр╕Фр╕Зр╕Вр╣Йр╕нр╕Др╕зр╕▓р╕б "ЁЯФМ р╣Др╕бр╣Ир╕кр╕▓р╕бр╕▓р╕гр╕Цр╣Ар╕Кр╕╖р╣Ир╕нр╕бр╕Хр╣Ир╕нр╕Бр╕▒р╕Ър╣Ар╕Лр╕┤р╕гр╣Мр╕Яр╣Ар╕зр╕нр╕гр╣Мр╣Др╕Фр╣Й"

### **3. р╕Чр╕Фр╕кр╕нр╕Ъ General Error:**
```bash
# р╕Цр╕▓р╕бр╕Др╕│р╕Цр╕▓р╕бр╕Ыр╕Бр╕Хр╕┤
"р╕лр╕нр╕Юр╕▒р╕Бр╕гр╕▓р╕Др╕▓р╕Цр╕╣р╕Бр╕Чр╕╡р╣Ир╕кр╕╕р╕Ф"
```
**р╕Ьр╕ер╕ер╕▒р╕Юр╕Шр╣М:** р╣Бр╕кр╕Фр╕Зр╕гр╕▓р╕вр╕Бр╕▓р╕гр╕лр╕нр╕Юр╕▒р╕Бр╕Хр╕▓р╕бр╕Ыр╕Бр╕Хр╕┤

---

## ЁЯУЭ р╕кр╕гр╕╕р╕Ы

р╕Бр╕▓р╕гр╣Бр╕Бр╣Йр╣Др╕Вр╕Щр╕╡р╣Йр╕Чр╕│р╣Гр╕лр╣Й:

1. **р╕гр╕░р╕Ър╕Ъ Error Handling р╕кр╕бр╕Ър╕╣р╕гр╕Ур╣Мр╕Вр╕╢р╣Йр╕Щ**
   - р╣Бр╕вр╕Бр╕Ыр╕гр╕░р╣Ар╕ар╕Ч error р╣Др╕Фр╣Йр╕Кр╕▒р╕Фр╣Ар╕Ир╕Щ
   - р╣Гр╕лр╣Йр╕Др╕│р╣Бр╕Щр╕░р╕Щр╕│р╕Чр╕╡р╣Ир╣Ар╕лр╕бр╕▓р╕░р╕кр╕бр╕Бр╕▒р╕Ър╣Бр╕Хр╣Ир╕ер╕░ error

2. **р╕Ьр╕╣р╣Йр╣Гр╕Кр╣Йр╣Др╕Фр╣Йр╕гр╕▒р╕Ър╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Чр╕╡р╣Ир╕Кр╕▒р╕Фр╣Ар╕Ир╕Щ**
   - р╕гр╕╣р╣Йр╕зр╣Ир╕▓р╣Ар╕Бр╕┤р╕Фр╕нр╕░р╣Др╕гр╕Вр╕╢р╣Йр╕Щ
   - р╕гр╕╣р╣Йр╕зр╣Ир╕▓р╕Хр╣Йр╕нр╕Зр╕Чр╕│р╕нр╕вр╣Ир╕▓р╕Зр╣Др╕г
   - р╕бр╕╡р╕Чр╕▓р╕Зр╣Ар╕ер╕╖р╕нр╕Бр╕нр╕╖р╣Ир╕Щр╣Ж

3. **Developer Debug р╕Зр╣Ир╕▓р╕вр╕Вр╕╢р╣Йр╕Щ**
   - Console log р╣Бр╕кр╕Фр╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Др╕гр╕Ър╕Цр╣Йр╕зр╕Щ
   - Error message р╕Кр╕▒р╕Фр╣Ар╕Ир╕Щ
   - р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Ыр╕▒р╕Нр╕лр╕▓р╣Др╕Фр╣Йр╣Ар╕гр╣Зр╕з

---

**р╕нр╕▒р╕Ыр╣Ар╕Фр╕Хр╣Ар╕бр╕╖р╣Ир╕н:** ${new Date().toLocaleDateString('th-TH', { 
  year: 'numeric', 
  month: 'long', 
  day: 'numeric',
  hour: '2-digit',
  minute: '2-digit'
})}

**Version:** 1.0 - Improved Error Handling ЁЯФз
