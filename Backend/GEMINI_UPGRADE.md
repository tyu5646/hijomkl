# üöÄ ‡∏≠‡∏±‡∏õ‡πÄ‡∏Å‡∏£‡∏î AI Chatbot ‡∏à‡∏≤‡∏Å Groq ‡πÄ‡∏õ‡πá‡∏ô Google Gemini Pro

## üìã ‡∏™‡∏£‡∏∏‡∏õ‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á

### ‚úÖ ‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ó‡∏≥:

1. **‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á Google Generative AI SDK**
   ```bash
   npm install @google/generative-ai
   ```

2. **‡πÄ‡∏û‡∏¥‡πà‡∏° Gemini API Initialization**
   - API Key: `AIzaSyDyI1BbUfIF3QjUJ5g6PR2mhr_xB9ejhEA`
   - Model: `gemini-1.5-pro` (‡∏£‡∏∏‡πà‡∏ô‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î‡πÅ‡∏•‡∏∞‡∏â‡∏•‡∏≤‡∏î‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î)

3. **‡πÅ‡∏ó‡∏ô‡∏ó‡∏µ‡πà‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô `callGroqAI` ‡∏î‡πâ‡∏ß‡∏¢ `callGeminiAI`**
   - ‡πÉ‡∏ä‡πâ Gemini Chat API ‡πÅ‡∏ó‡∏ô Groq API
   - ‡πÄ‡∏û‡∏¥‡πà‡∏° Safety Settings ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÑ‡∏°‡πà‡∏ö‡∏•‡πá‡∏≠‡∏Ñ‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢
   - ‡πÉ‡∏ä‡πâ History-based chat ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö context ‡∏ó‡∏µ‡πà‡∏î‡∏µ‡∏Ç‡∏∂‡πâ‡∏ô

4. **‡∏õ‡∏£‡∏±‡∏ö System Prompt ‡πÉ‡∏´‡πâ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö Gemini**
   - ‡πÄ‡∏ô‡πâ‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏õ‡πá‡∏ô‡∏ò‡∏£‡∏£‡∏°‡∏ä‡∏≤‡∏ï‡∏¥‡∏Ç‡∏≠‡∏á‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢
   - ‡∏•‡∏î hallucination (‡∏Å‡∏≤‡∏£‡πÅ‡∏ï‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•)
   - ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏Å‡∏≤‡∏£‡∏ï‡∏≠‡∏ö‡∏ó‡∏µ‡πà‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô

5. **‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏ó‡∏±‡πâ‡∏á 2 Chatbot Endpoints**
   - Endpoint ‡πÅ‡∏£‡∏Å: ‡πÉ‡∏ä‡πâ `callGeminiAI()`
   - Endpoint ‡∏ó‡∏µ‡πà‡∏™‡∏≠‡∏á: ‡πÉ‡∏ä‡πâ `callGeminiAI2()`

---

## üéØ ‡∏Ç‡πâ‡∏≠‡∏î‡∏µ‡∏Ç‡∏≠‡∏á Gemini Pro

| ‡∏Ñ‡∏∏‡∏ì‡∏™‡∏°‡∏ö‡∏±‡∏ï‡∏¥ | Groq (‡πÄ‡∏î‡∏¥‡∏°) | **Gemini Pro (‡πÉ‡∏´‡∏°‡πà)** |
|----------|-------------|----------------------|
| **‡∏Ñ‡∏ß‡∏≤‡∏°‡∏â‡∏•‡∏≤‡∏î** | ‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê |
| **‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢** | ‡∏û‡∏≠‡πÉ‡∏ä‡πâ | **‡∏î‡∏µ‡∏°‡∏≤‡∏Å** ‚úÖ |
| **‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏õ‡πá‡∏ô‡∏ò‡∏£‡∏£‡∏°‡∏ä‡∏≤‡∏ï‡∏¥** | ‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á | **‡∏™‡∏π‡∏á‡∏°‡∏≤‡∏Å** ‚úÖ |
| **Context Window** | 8k tokens | **32k tokens** ‚úÖ |
| **‡∏£‡∏≤‡∏Ñ‡∏≤** | ‡∏ü‡∏£‡∏µ | **‡∏ü‡∏£‡∏µ (60 req/min)** ‚úÖ |
| **Quota** | ‡∏à‡∏≥‡∏Å‡∏±‡∏î | **2000 req/day** ‚úÖ |
| **‡∏Å‡∏≤‡∏£‡πÅ‡∏ï‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•** | ‡∏ö‡πà‡∏≠‡∏¢ | **‡∏ô‡πâ‡∏≠‡∏¢‡∏°‡∏≤‡∏Å** ‚úÖ |

---

## üîß Configuration

### Model Settings:
```javascript
{
  model: "gemini-1.5-pro",
  temperature: 0.7,        // ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏£‡∏£‡∏Ñ‡πå (0-1)
  topP: 0.9,              // Nucleus sampling
  topK: 40,               // Top-K sampling
  maxOutputTokens: 2048   // ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏ß‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î
}
```

### Safety Settings:
```javascript
[
  { category: "HARM_CATEGORY_HARASSMENT", threshold: "BLOCK_NONE" },
  { category: "HARM_CATEGORY_HATE_SPEECH", threshold: "BLOCK_NONE" },
  { category: "HARM_CATEGORY_SEXUALLY_EXPLICIT", threshold: "BLOCK_NONE" },
  { category: "HARM_CATEGORY_DANGEROUS_CONTENT", threshold: "BLOCK_NONE" }
]
```
*‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏: ‡∏ï‡∏±‡πâ‡∏á‡πÄ‡∏õ‡πá‡∏ô BLOCK_NONE ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÑ‡∏°‡πà‡πÉ‡∏´‡πâ‡∏ö‡∏•‡πá‡∏≠‡∏Ñ‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢‡∏ó‡∏µ‡πà‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢*

---

## üìä ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á

### ‡∏Å‡πà‡∏≠‡∏ô (Groq):
```
‡∏°‡∏µ‡∏´‡∏≠‡∏û‡∏±‡∏Å‡∏£‡∏≤‡∏Ñ‡∏≤ 2500 ‡∏ö‡∏≤‡∏ó ‡∏ä‡∏∑‡πà‡∏≠‡∏ß‡πà‡∏≤‡∏´‡∏≠‡∏û‡∏±‡∏Å‡∏™‡∏ö‡∏≤‡∏¢‡∏î‡∏µ ‡∏°‡∏µ wifi ‡πÅ‡∏•‡∏∞‡πÅ‡∏≠‡∏£‡πå
```

### ‡∏´‡∏•‡∏±‡∏á (Gemini Pro):
```
üè† **‡∏´‡∏≠‡∏û‡∏±‡∏Å‡∏£‡∏≤‡∏Ñ‡∏≤‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î 3 ‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö‡πÅ‡∏£‡∏Å:**

1. üè† **‡∏´‡∏≠‡∏û‡∏±‡∏Å‡∏™‡∏ö‡∏≤‡∏¢‡∏î‡∏µ**
   üí∞ ‡∏£‡∏≤‡∏Ñ‡∏≤‡∏£‡∏≤‡∏¢‡πÄ‡∏î‡∏∑‡∏≠‡∏ô: ‡∏ø2,500 ‡∏ö‡∏≤‡∏ó
   üí∞ ‡∏£‡∏≤‡∏Ñ‡∏≤‡∏£‡∏≤‡∏¢‡πÄ‡∏ó‡∏≠‡∏°: ‡∏ø12,000 ‡∏ö‡∏≤‡∏ó
   üåü ‡∏™‡∏¥‡πà‡∏á‡∏≠‡∏≥‡∏ô‡∏ß‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏î‡∏ß‡∏Å: WiFi ‡∏ü‡∏£‡∏µ, ‡πÅ‡∏≠‡∏£‡πå, ‡πÄ‡∏ü‡∏≠‡∏£‡πå‡∏ô‡∏¥‡πÄ‡∏à‡∏≠‡∏£‡πå‡∏Ñ‡∏£‡∏ö
   üìç ‡∏ó‡∏µ‡πà‡∏ï‡∏±‡πâ‡∏á: ‡πÉ‡∏Å‡∏•‡πâ‡∏°.‡∏°‡∏´‡∏≤‡∏™‡∏≤‡∏£‡∏Ñ‡∏≤‡∏° ‡πÄ‡∏î‡∏¥‡∏ô‡πÄ‡∏û‡∏µ‡∏¢‡∏á 5 ‡∏ô‡∏≤‡∏ó‡∏µ
   üìû ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠: 043-123456

‡∏°‡∏µ‡∏≠‡∏∞‡πÑ‡∏£‡πÉ‡∏´‡πâ‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°‡πÑ‡∏´‡∏°‡∏Ñ‡∏∞? üòä
```

---

## üö¶ ‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö

### 1. ‡∏£‡∏±‡∏ô Backend Server:
```bash
cd Backend
node index.js
```

### 2. ‡∏î‡∏π Console Log:
```
ü§ñ Google Gemini Pro AI initialized ‚úÖ
```

### 3. ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°:
- "‡∏´‡∏≠‡∏û‡∏±‡∏Å‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ñ‡∏π‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î"
- "‡∏´‡∏≠‡∏û‡∏±‡∏Å‡πÉ‡∏Å‡∏•‡πâ‡∏°‡∏´‡∏≤‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏•‡∏±‡∏¢‡∏°‡∏´‡∏≤‡∏™‡∏≤‡∏£‡∏Ñ‡∏≤‡∏°"
- "‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏´‡∏≠‡∏û‡∏±‡∏Å A ‡∏Å‡∏±‡∏ö‡∏´‡∏≠‡∏û‡∏±‡∏Å B"

---

## üìù ‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç

1. **Backend/index.js**
   - ‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î ~28: ‡πÄ‡∏û‡∏¥‡πà‡∏° Gemini import ‡πÅ‡∏•‡∏∞ initialization
   - ‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î ~2535: ‡πÅ‡∏ó‡∏ô‡∏ó‡∏µ‡πà `callGroqAI()` ‡πÄ‡∏õ‡πá‡∏ô `callGeminiAI()`
   - ‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î ~2692: ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ‡πÉ‡∏ô endpoint ‡πÅ‡∏£‡∏Å
   - ‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î ~4176: ‡πÅ‡∏ó‡∏ô‡∏ó‡∏µ‡πà duplicate function ‡πÄ‡∏õ‡πá‡∏ô `callGeminiAI2()`
   - ‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î ~4302: ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ‡πÉ‡∏ô endpoint ‡∏ó‡∏µ‡πà‡∏™‡∏≠‡∏á

2. **Backend/package.json**
   - ‡πÄ‡∏û‡∏¥‡πà‡∏° dependency: `@google/generative-ai`

---

## üîê API Key Management

### ‚ö†Ô∏è ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç: ‡∏¢‡πâ‡∏≤‡∏¢ API Key ‡πÑ‡∏õ‡πÉ‡∏ô .env

‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÉ‡∏´‡πâ‡∏¢‡πâ‡∏≤‡∏¢ API Key ‡∏à‡∏≤‡∏Å‡πÇ‡∏Ñ‡πâ‡∏î‡πÑ‡∏õ‡πÄ‡∏Å‡πá‡∏ö‡πÉ‡∏ô `.env` ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢:

**1. ‡∏™‡∏£‡πâ‡∏≤‡∏á/‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç `.env`:**
```env
GEMINI_API_KEY=AIzaSyDyI1BbUfIF3QjUJ5g6PR2mhr_xB9ejhEA
```

**2. ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç index.js:**
```javascript
const genAI = new GoogleGenerativeAI(process.env.GEMINI_API_KEY);
```

**3. ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÉ‡∏ô `.gitignore`:**
```
.env
```

---

## üé® ‡∏õ‡∏£‡∏±‡∏ö‡πÅ‡∏ï‡πà‡∏á AI Personality

‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç System Prompt ‡πÉ‡∏ô `callGeminiAI()` ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡∏£‡∏±‡∏ö‡∏ö‡∏∏‡∏Ñ‡∏•‡∏¥‡∏Å‡∏†‡∏≤‡∏û:

```javascript
const systemPrompt = `‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏õ‡πá‡∏ô "‡∏ô‡πâ‡∏≠‡∏á‡∏î‡∏≠‡∏£‡πå‡∏°" ‡∏ú‡∏π‡πâ‡∏ä‡πà‡∏ß‡∏¢ AI...

**‡∏ö‡∏∏‡∏Ñ‡∏•‡∏¥‡∏Å‡∏†‡∏≤‡∏û:**
- ‡∏ô‡πà‡∏≤‡∏£‡∏±‡∏Å ‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏±‡∏ô‡πÄ‡∏≠‡∏á ‡πÉ‡∏™‡πà‡πÉ‡∏à
- ‡∏û‡∏π‡∏î‡∏à‡∏≤‡∏™‡∏∏‡∏†‡∏≤‡∏û ‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≥‡∏ß‡πà‡∏≤ "‡∏Ñ‡πà‡∏∞/‡∏Ñ‡∏£‡∏±‡∏ö"
- ‡∏ï‡∏≠‡∏ö‡∏™‡∏±‡πâ‡∏ô‡∏Å‡∏£‡∏∞‡∏ä‡∏±‡∏ö ‡πÅ‡∏ï‡πà‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô
...`;
```

---

## üìà Quota & Limits

### Free Tier (‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô):
- **60 requests/minute**
- **2,000 requests/day**
- **32,000 tokens per request**

### ‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏° Quota:
1. ‡πÑ‡∏õ https://ai.google.dev/pricing
2. Upgrade ‡πÄ‡∏õ‡πá‡∏ô Pay-as-you-go
3. ‡∏£‡∏≤‡∏Ñ‡∏≤: $0.001875 / 1K characters (‡∏ñ‡∏π‡∏Å‡∏°‡∏≤‡∏Å!)

---

## üêõ Troubleshooting

### ‚ùå Error: "API key not valid"
```javascript
// ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö API Key
console.log('GEMINI_API_KEY:', process.env.GEMINI_API_KEY?.substring(0, 10) + '...');
```

### ‚ùå Error: "Quota exceeded"
```javascript
// ‡πÄ‡∏û‡∏¥‡πà‡∏° retry logic
if (error.message?.includes('quota')) {
  await sleep(1000); // ‡∏£‡∏≠ 1 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
  return await callGeminiAI(userMessage, dormContext); // ‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà
}
```

### ‚ùå Error: "SAFETY"
```javascript
// ‡∏õ‡∏£‡∏±‡∏ö safety settings ‡πÉ‡∏´‡πâ‡πÄ‡∏Ç‡πâ‡∏°‡∏á‡∏ß‡∏î‡∏ô‡πâ‡∏≠‡∏¢‡∏•‡∏á
safetySettings: [
  { category: "HARM_CATEGORY_HARASSMENT", threshold: "BLOCK_NONE" }
]
```

---

## ‚úÖ Checklist

- [x] ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á `@google/generative-ai`
- [x] ‡πÄ‡∏û‡∏¥‡πà‡∏° Gemini initialization
- [x] ‡πÅ‡∏ó‡∏ô‡∏ó‡∏µ‡πà `callGroqAI` ‡∏ó‡∏±‡πâ‡∏á 2 ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô
- [x] ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ‡πÉ‡∏ô chatbot endpoints
- [x] ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏£‡∏∞‡∏ö‡∏ö
- [ ] ‡∏¢‡πâ‡∏≤‡∏¢ API Key ‡πÑ‡∏õ‡πÉ‡∏ô `.env` (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥)
- [ ] ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Å‡∏±‡∏ö‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏à‡∏£‡∏¥‡∏á
- [ ] Monitor quota usage

---

## üìû Support

- Gemini API Docs: https://ai.google.dev/tutorials/node_quickstart
- Pricing: https://ai.google.dev/pricing
- Support: https://developers.google.com/support

---

**‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î:** ${new Date().toLocaleDateString('th-TH', { 
  year: 'numeric', 
  month: 'long', 
  day: 'numeric' 
})}

**‡∏ú‡∏π‡πâ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï:** GitHub Copilot + Smart Dorm Team üöÄ
